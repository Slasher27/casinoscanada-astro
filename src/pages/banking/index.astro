---
import ListingLayout from '../../layouts/ListingLayout.astro';
import { getAllPaymentMethods } from '../../db/queries';
import { SITE_URL } from '../../config/constants';
import PaymentMethodCard from '../../components/banking/PaymentMethodCard.astro';

// Fetch all payment methods
const methods = getAllPaymentMethods();

// Schema.org - CollectionPage for Payment Methods
const schema = {
	'@context': 'https://schema.org',
	'@type': 'CollectionPage',
	name: 'Best Casino Payment Methods Canada',
	description: 'Find the fastest and safest online casino payment methods in Canada. Compare fees, limits, and withdrawal times.',
	url: `${SITE_URL}/banking/`,
	mainEntity: {
		'@type': 'ItemList',
		numberOfItems: methods.length,
		itemListElement: methods.map((method, index) => ({
			'@type': 'ListItem',
			position: index + 1,
			name: method.name,
			url: `${SITE_URL}/banking/${method.id}/`,
		})),
	},
};
---

<ListingLayout
	title='Best Casino Payment Methods Canada | Fast Payouts (2024)'
	description='Find the fastest and safest online casino payment methods in Canada. Compare fees, limits, and withdrawal times.'
	heroTitle='Details on Deposits & Withdrawals'
	heroDescription='Everything you need to know about banking at Canadian online casinos. Fast, secure, and fee-free options.'
	breadcrumbs={[{ text: 'Banking', href: '/banking/' }]}
>
	<!-- Schema.org JSON-LD -->
	<script
		type='application/ld+json'
		slot='head'
		set:html={JSON.stringify(schema)}
	/>
	<!-- Method List -->
	<div
		class='grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6'
	>
		{methods.map((method: any) => <PaymentMethodCard method={method} />)}
	</div>

	<!-- SEO Content -->
	<div class='mt-16 prose prose-lg text-gray-600 max-w-none'>
		<h2>How to Choose a Payment Method</h2>
		<p>
			When selecting a banking option for online gambling in Canada, consider
			the "Trifecta":
			<strong>Speed, Fees, and Convenience</strong>. Only Interac scores
			perfectly on all three for Canadians.
		</p>
		<div class='not-prose grid md:grid-cols-3 gap-6 my-8'>
			<div class='bg-blue-50 p-6 rounded-xl border border-blue-100'>
				<h3 class='font-bold text-blue-900 mb-2'>âš¡ Speed</h3>
				<p class='text-sm text-blue-800'>
					E-wallets and Crypto are fastest (Instant). Bank transfers can take
					1-3 days.
				</p>
			</div>
			<div class='bg-green-50 p-6 rounded-xl border border-green-100'>
				<h3 class='font-bold text-green-900 mb-2'>ðŸ’¸ Fees</h3>
				<p class='text-sm text-green-800'>
					Most casinos absorb fees, but watch out for Credit Card "Cash Advance"
					charges.
				</p>
			</div>
			<div class='bg-purple-50 p-6 rounded-xl border border-purple-100'>
				<h3 class='font-bold text-purple-900 mb-2'>ðŸ”’ Safety</h3>
				<p class='text-sm text-purple-800'>
					Interac & iDebit never share your banking details directly with the
					casino.
				</p>
			</div>
		</div>
	</div>
</ListingLayout>
