---
// src/components/reviews/CasinoHero.astro
import { getCasinoById } from '../../db/queries';
import EntityHero from '../common/EntityHero.astro';

interface Props {
	casinoId: string;
	seoTitle?: string;
}

const { casinoId, seoTitle } = Astro.props;

const casino = getCasinoById(casinoId);

if (!casino) {
	console.error(`Error: Casino ID "${casinoId}" not found in DB.`);
}
---

{
	casino && (
		<EntityHero
			title={seoTitle || `${casino.name} Review`}
			subtitle='Updated for Canadian Players'
			logoUrl={casino.logo_url}
			stats={[
				{
					label: 'Payout',
					value: `${casino.payout_speed_minutes} mins`,
					icon: 'âš¡',
				},
				{
					label: 'License',
					value: casino.license,
					icon: 'ðŸ›¡ï¸',
				},
				{
					label: 'RTP',
					value: `${casino.payout_ratio}%`,
					icon: 'ðŸ“ˆ',
					color: 'text-green-400',
				},
			]}
		>
			<div
				slot='action'
				class='bg-slate-800/50 p-4 rounded-2xl border border-slate-700/50 text-center w-full md:w-auto'
			>
				<div class='text-sm text-slate-400 font-bold mb-1'>Exclusive Bonus</div>
				<div class='text-2xl md:text-3xl font-black text-yellow-400 mb-4 leading-tight max-w-[200px] mx-auto'>
					{casino.bonus_offer}
				</div>
				<a
					href={casino.website_url}
					target='_blank'
					rel='nofollow noopener'
					class='inline-block w-full md:w-auto bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform hover:scale-105 transition-all'
				>
					Play Now
				</a>
			</div>
		</EntityHero>
	)
}
